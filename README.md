# **App Pause**

## **简介**

App Pause 是一款 Android 应用监控工具，旨在帮助用户管理应用的使用时间。虽然市面上已大量应用时间管理工具，但
AppPause
提供了更灵活的管理方式：允许用户为每次使用设置时间限制，帮助用户健康使用手机。我们还计划在下个版本中引入使用过程中实时提醒，以及在使用前展示用户每日目标或任务的功能，以帮助用户更好地集中注意力。

---

## **功能特性**

1. **应用监控**：
    - 监控指定应用的使用情况，并在应用进入前台时启动计时器。
    - 允许用户为每次使用设置单独的时间限制。

2. **悬浮窗提醒**：
    - 显示剩余使用时间，帮助用户及时了解使用情况。
    - 允许用户重新设置使用时长，提供一定的灵活性。

3. **通知提醒**：
    - 当应用使用时间接近限制时，发送通知提醒。**（未实现）**

4. **强制关闭应用**：
    - 当使用时间用尽时，强制关闭被监控的应用，并展示超时提醒。

5. **权限管理**：
    - 管理悬浮窗权限、通知权限和使用情况访问权限，确保正常运行。

---

## **安装与使用**

### **1. 安装**

- 下载最新的 APK 文件并安装到您的 Android 设备上。
- 设备需要 Android 8.0（API 26）或更高版本。

### **2. 使用步骤**

1. **授予权限**：
    - 启动应用后，依次授予以下权限：
        - **无障碍服务**：允许应用使用无障碍服务来监控应用使用情况。
        - **悬浮窗权限**：允许应用显示悬浮窗。
        - **通知权限**：允许应用发送通知。
        - **使用情况访问权限**：允许应用监控其他应用的使用情况。

2. **添加被监控的应用**：
    - 进入“监控应用列表”页面，选择需要监控的应用并添加。

3. **启动监控**：
    - 返回主界面，点击“开始监控”按钮。
    - 被监控的应用进入前台时，AppPause 会启动计时器。

4. **设置使用时长**：
    - 当应用进入前台时会弹出使用时长悬浮窗，用户可以通过悬浮窗调整使用时长。

5. **强制关闭应用**：
    - 当使用时间结束时，AppPause 会显示超时提醒并引导关闭应用。

---

## **技术实现**

### **1. 主要组件**

- **MainActivity**：负责权限管理、启动/停止监控以及用户界面交互。
- **AppMonitor**：负责监控应用的使用情况，判断应用是否处于前台并管理倒计时。
- **OverlayManager**：用于管理悬浮窗的显示和隐藏。
- **PermissionManager**：管理悬浮窗、通知和使用情况访问权限。
- **NotificationManager**：管理通知的发送和展示。
- **AppPauseAccessibilityService**：通过无障碍服务监控应用使用情况。

### **2. 关键技术**

- **Handler 和 Runnable**：用于实现定时任务和倒计时逻辑。
- **UsageStatsManager**：获取应用的使用情况。
- **WindowManager**：用于显示悬浮窗。
- **SharedPreferences**：持久化存储被监控应用列表。
- **AccessibilityService**：用于监控应用使用情况。

---

## **权限说明**

AppPause 需要以下权限以实现完整功能：

1. **悬浮窗权限**：用于显示悬浮窗。
2. **通知权限**：用于发送通知提醒。
3. **使用情况访问权限**：用于监控其他应用的使用情况。
4. **强制关闭应用权限**：用于强制关闭被监控的应用。
5. **无障碍服务**：用于监控应用使用情况。（软件无联网功能，页面识别内容仅用于监控应用使用情况）

---

## **贡献与反馈**

### **反馈方式**

如果您遇到问题或有任何建议，请按照以下步骤提供反馈：

1. **如果能够复现问题**：
    - 在问题发生前，请点击“清空日志”按钮。
    - 复现问题后，点击“保存日志”按钮，并上传日志文件，以便我们更好地排查问题。

2. **如果无法复现问题**：
    - 直接保存日志文件并反馈问题。

您可以在 [GitHub Issues](https://github.com/huojieren/AppPause/issues)
提交问题或新功能建议，同时也可以在 [GitHub Project](https://github.com/users/huojieren/projects/2)
中查看当前正在开发的功能。

---

## **致谢**

- 特别感谢 ChatGPT、DeepSeek 提供的技术支持。