# **AppPause**

## **简介**

AppPause 是一款 Android 应用监控工具，旨在帮助用户管理应用的使用时间。通过监控指定应用的使用情况，AppPause
可以在应用使用超时时提醒用户，并支持强制关闭应用。

---

## **功能特性**

1. **应用监控**：
    - 监控指定应用的使用情况。
    - 当被监控的应用进入前台时，启动计时器。

2. **悬浮窗提醒**：
    - 显示剩余使用时间。
    - 允许用户重新设置使用时长。

3. **通知提醒**：
    - 在接近使用时长限制时，发送通知提醒。

4. **强制关闭应用**：
    - 当使用时间用尽时，强制关闭被监控的应用。

5. **权限管理**：
    - 支持悬浮窗权限、通知权限和使用情况访问权限的管理。

---

## **安装与使用**

### **1. 安装**

- 下载最新的 APK 文件并安装到您的 Android 设备上。
- 确保设备运行 Android 5.0（API 21）或更高版本。

### **2. 使用步骤**

1. **授予权限**：
    - 打开应用后，依次授予以下权限：
        - **悬浮窗权限**：允许应用显示悬浮窗。
        - **通知权限**：允许应用发送通知。
        - **使用情况访问权限**：允许应用监控其他应用的使用情况。

2. **添加被监控的应用**：
    - 点击“监控应用列表”按钮，进入应用选择界面。
    - 选择需要监控的应用，点击“添加”按钮。

3. **启动监控**：
    - 返回主界面，点击“开始监控”按钮。
    - 当被监控的应用进入前台时，AppPause 会启动计时器并显示剩余时间。

4. **设置使用时长**：
    - 当应用进入前台时，悬浮窗会显示剩余时间。
    - 用户可以通过悬浮窗重新设置使用时长。

5. **强制关闭应用**：
    - 当使用时间用尽时，AppPause 会强制关闭被监控的应用，并显示超时提醒。

---

## **技术实现**

### **1. 主要组件**

- **MainActivity**：主界面，负责权限管理、启动/停止监控和 UI 交互。
- **AppMonitor**：负责监控应用的使用情况，检查应用是否在前台运行。
- **OverlayManager**：管理悬浮窗的显示和隐藏。
- **PermissionManager**：管理应用所需的权限（悬浮窗、通知、使用情况访问）。
- **NotificationManager**：管理通知的显示。

### **2. 关键技术**

- **Handler 和 Runnable**：用于实现定时任务和倒计时逻辑。
- **UsageStatsManager**：用于获取应用的使用情况。
- **WindowManager**：用于显示悬浮窗。
- **SharedPreferences**：用于持久化存储被监控的应用列表。

---

## **权限说明**

AppPause 需要以下权限以实现完整功能：

1. **悬浮窗权限**：用于显示悬浮窗。
2. **通知权限**：用于发送通知提醒。
3. **使用情况访问权限**：用于监控其他应用的使用情况。
4. **强制关闭应用权限**：用于强制关闭被监控的应用。

---

## **贡献与反馈**

如果您有任何问题或建议，欢迎提交 Issue 或 Pull Request。

---

## **致谢**

- 特别感谢 ChatGPT、DeepSeek 提供的技术支持。